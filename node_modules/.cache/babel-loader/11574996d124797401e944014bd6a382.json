{"ast":null,"code":"import { createServer, Model } from \"miragejs\";\nimport honor20 from \"./components/images/honor20.jpg\";\nimport iphone11 from \"./components/images/iphone11.jpg\";\nimport iphone11pro from \"./components/images/iphone11pro.jpg\";\nimport lgg8 from \"./components/images/lgg8.jpg\";\nimport oneplus7tpro from \"./components/images/oneplus7tpro.jpg\";\nconst imgDb = {\n  honor20,\n  iphone11,\n  iphone11pro,\n  lgg8,\n  oneplus7tpro\n};\nexport function server(development) {\n  createServer({\n    models: {\n      product: Model.extend(),\n      product: Model\n    },\n    seeds(server) {\n      // server.create(\"product\", { products });\n\n      server.db.loadData({\n        products: [{\n          id: \"B07V7ZWFJB\",\n          brand: \"Honor\",\n          model: \"Honor 20\",\n          rear_camera: \"48MP + 16MP + 2MP + 2MP\",\n          front_camera: \"32MP\",\n          screen: \"6.25inch FHD\",\n          storage: \"128gb\",\n          os: \"Android v9\",\n          cost: 291.8,\n          image: \"honor20.jpg\"\n        }, {\n          id: \"B07XVLW7YK\",\n          brand: \"Apple\",\n          model: \"iPhone 11 (128GB) - Black\",\n          rear_camera: \"12MP ultra wide & wide cameras\",\n          front_camera: \"12MP TrueDepth camera\",\n          screen: \"6.1-inch liquid Retina HD\",\n          storage: \"128gb\",\n          os: \"Apple iOS\",\n          cost: 858.21,\n          image: \"iphone11.jpg\"\n        }, {\n          id: \"B07XVMJF2D\",\n          brand: \"Apple\",\n          model: \"iPhone 11 Pro (256GB) - Gold\",\n          rear_camera: \"Triple-camera system with 12MP\",\n          front_camera: \"12MP TrueDepth camera\",\n          screen: \"5.8-inch Super Retina XDR\",\n          storage: \"256gb\",\n          os: \"Apple iOS\",\n          cost: 1506.16,\n          image: \"iphone11pro.jpg\"\n        }, {\n          id: \"B082P36B9X\",\n          brand: \"LG\",\n          model: \"LG G8X - Dual Screen (Aurora Black)\",\n          rear_camera: \"12MB OIS + 13MP Wide\",\n          front_camera: \"32MP\",\n          screen: \"6.4-inch Dual OLED\",\n          storage: \"128gb\",\n          os: \"Android 9 (Pie)\",\n          cost: 661.18,\n          image: \"lgg8.jpg\"\n        }, {\n          id: \"B07DJ8K2KT\",\n          brand: \"OnePlus\",\n          model: \"OnePlus 7T Pro (256GB)\",\n          rear_camera: \"48MP + 16MP + 8MP Triple camera\",\n          front_camera: \"16MP\",\n          screen: \"6.67-inch 90Hz fluid display\",\n          storage: \"256gb\",\n          os: \"Oxygen OS\",\n          cost: 714.07,\n          image: \"oneplus7tpro.jpg\"\n        }]\n      });\n    },\n    routes() {\n      this.namespace = \"api\";\n\n      /*this.get(\"/products\", (schema, request) => {\r\n          return schema.products.all();\r\n        });*/\n\n      this.get(\"/products\", (schema, request) => schema.db.products.map(({\n        id,\n        brand,\n        model,\n        image\n      }) => {\n        return {\n          id,\n          brand,\n          model,\n          image\n        };\n      }));\n      this.get(\"/products/:id\", (schema, request) => {\n        let id = request.params.id;\n        return schema.products.find(id);\n      });\n      this.post(\"/products\", (schema, request) => {\n        let attrs = JSON.parse(request.requestBody);\n        return schema.todos.create(attrs);\n      });\n      this.patch(\"/products/:id\", (schema, request) => {\n        let newAttrs = JSON.parse(request.requestBody);\n        let id = request.params.id;\n        let products = schema.products.find(id);\n        return products.update(newAttrs);\n      });\n      this.delete(\"/products/:id\", (schema, request) => {\n        let id = request.params.id;\n        return schema.products.find(id);\n      });\n    }\n  });\n  return server;\n}\nexport const getImage = image => {\n  return imgDb[image.split(\".\")[0]];\n};","map":{"version":3,"names":["createServer","Model","honor20","iphone11","iphone11pro","lgg8","oneplus7tpro","imgDb","server","development","models","product","extend","seeds","db","loadData","products","id","brand","model","rear_camera","front_camera","screen","storage","os","cost","image","routes","namespace","get","schema","request","map","params","find","post","attrs","JSON","parse","requestBody","todos","create","patch","newAttrs","update","delete","getImage","split"],"sources":["C:/assignments/confronto/asg3/src/server.js"],"sourcesContent":["import { createServer, Model } from \"miragejs\";\r\nimport honor20 from \"./components/images/honor20.jpg\";\r\nimport iphone11 from \"./components/images/iphone11.jpg\";\r\nimport iphone11pro from \"./components/images/iphone11pro.jpg\";\r\nimport lgg8 from \"./components/images/lgg8.jpg\";\r\nimport oneplus7tpro from \"./components/images/oneplus7tpro.jpg\";\r\nconst imgDb = { honor20, iphone11, iphone11pro, lgg8, oneplus7tpro };\r\n\r\n\r\nexport function server(development) {\r\n    createServer({\r\n        \r\n        models: {\r\n            product: Model.extend(),\r\n            product: Model\r\n        },\r\n        seeds(server) {\r\n\r\n            // server.create(\"product\", { products });\r\n\r\n            server.db.loadData({\r\n                products: [\r\n                    {\r\n                        id: \"B07V7ZWFJB\",\r\n                        brand: \"Honor\",\r\n                        model: \"Honor 20\",\r\n                        rear_camera: \"48MP + 16MP + 2MP + 2MP\",\r\n                        front_camera: \"32MP\",\r\n                        screen: \"6.25inch FHD\",\r\n                        storage: \"128gb\",\r\n                        os: \"Android v9\",\r\n                        cost: 291.8,\r\n                        image: \"honor20.jpg\"\r\n                    },\r\n                    {\r\n                        id: \"B07XVLW7YK\",\r\n                        brand: \"Apple\",\r\n                        model: \"iPhone 11 (128GB) - Black\",\r\n                        rear_camera: \"12MP ultra wide & wide cameras\",\r\n                        front_camera: \"12MP TrueDepth camera\",\r\n                        screen: \"6.1-inch liquid Retina HD\",\r\n                        storage: \"128gb\",\r\n                        os: \"Apple iOS\",\r\n                        cost: 858.21,\r\n                        image: \"iphone11.jpg\"\r\n                    },\r\n                    {\r\n                        id: \"B07XVMJF2D\",\r\n                        brand: \"Apple\",\r\n                        model: \"iPhone 11 Pro (256GB) - Gold\",\r\n                        rear_camera: \"Triple-camera system with 12MP\",\r\n                        front_camera: \"12MP TrueDepth camera\",\r\n                        screen: \"5.8-inch Super Retina XDR\",\r\n                        storage: \"256gb\",\r\n                        os: \"Apple iOS\",\r\n                        cost: 1506.16,\r\n                        image: \"iphone11pro.jpg\"\r\n                    },\r\n                    {\r\n                        id: \"B082P36B9X\",\r\n                        brand: \"LG\",\r\n                        model: \"LG G8X - Dual Screen (Aurora Black)\",\r\n                        rear_camera: \"12MB OIS + 13MP Wide\",\r\n                        front_camera: \"32MP\",\r\n                        screen: \"6.4-inch Dual OLED\",\r\n                        storage: \"128gb\",\r\n                        os: \"Android 9 (Pie)\",\r\n                        cost: 661.18,\r\n                        image: \"lgg8.jpg\"\r\n                    },\r\n                    {\r\n                        id: \"B07DJ8K2KT\",\r\n                        brand: \"OnePlus\",\r\n                        model: \"OnePlus 7T Pro (256GB)\",\r\n                        rear_camera: \"48MP + 16MP + 8MP Triple camera\",\r\n                        front_camera: \"16MP\",\r\n                        screen: \"6.67-inch 90Hz fluid display\",\r\n                        storage: \"256gb\",\r\n                        os: \"Oxygen OS\",\r\n                        cost: 714.07,\r\n                        image: \"oneplus7tpro.jpg\"\r\n                    },\r\n                ]\r\n            });\r\n        },\r\n        routes() {\r\n            this.namespace = \"api\";\r\n\r\n            /*this.get(\"/products\", (schema, request) => {\r\n                return schema.products.all();\r\n\r\n            });*/\r\n\r\n            this.get(\"/products\", (schema, request) =>\r\n                schema.db.products.map(({ id, brand, model, image }) => {\r\n                    return { id, brand, model, image };\r\n                })\r\n            );\r\n\r\n            this.get(\"/products/:id\", (schema, request) => {\r\n                let id = request.params.id;\r\n                return schema.products.find(id);\r\n            });\r\n\r\n            this.post(\"/products\", (schema, request) => {\r\n                let attrs = JSON.parse(request.requestBody);\r\n                return schema.todos.create(attrs);\r\n            });\r\n\r\n            this.patch(\"/products/:id\", (schema, request) => {\r\n                let newAttrs = JSON.parse(request.requestBody);\r\n                let id = request.params.id;\r\n                let products = schema.products.find(id);\r\n                return products.update(newAttrs);\r\n            });\r\n\r\n            this.delete(\"/products/:id\", (schema, request) => {\r\n                let id = request.params.id;\r\n                return schema.products.find(id);\r\n            })\r\n\r\n\r\n\r\n        }\r\n    });\r\n    return server;\r\n}\r\n\r\nexport const getImage = image => {\r\n    return imgDb[image.split(\".\")[0]];\r\n};\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}